# ğŸ¯ å½±ç‰‡èˆ‡åœ–ç‰‡é¡¯ç¤ºå•é¡Œ - å®Œæ•´è§£æ±ºå ±å‘Š

## ğŸ“ å•é¡Œæè¿°

**ç”¨æˆ¶åæ‡‰**: ç¶²ç«™ä¸Šçš„å½±ç‰‡å’Œåœ–ç‰‡ç„¡æ³•é¡¯ç¤º

**å¯¦éš›ç‹€æ³**:
- âœ… æ‰€æœ‰æª”æ¡ˆéƒ½å­˜åœ¨ä¼ºæœå™¨ä¸Šï¼ˆæœªéºå¤±ï¼‰
- âœ… HTTP è«‹æ±‚è¿”å› 200 æˆåŠŸ
- âŒ ä½†ç€è¦½å™¨ç„¡æ³•æ­£ç¢ºè§£æå’Œé¡¯ç¤º

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### å•é¡Œ 1: Vite é…ç½®éŒ¯èª¤ï¼ˆä¸»è¦å•é¡Œï¼‰âš ï¸

**éŒ¯èª¤é…ç½®** (`vite.config.ts`):
```typescript
export default defineConfig({
  plugins: [react()],
  base: '/',  // âŒ éŒ¯èª¤ï¼
})
```

**ç¨‹å¼ç¢¼ä¸­çš„è·¯å¾‘**:
```typescript
src="/dtmrs-website/assets/images/..."  // ä½¿ç”¨ /dtmrs-website/ å‰ç¶´
src="/dtmrs-website/assets/videos/..."
```

**çµæœ**:
- Vite é…ç½® `base: '/'` ä»£è¡¨æ ¹ç›®éŒ„
- ä½†ç¨‹å¼ç¢¼ä½¿ç”¨ `/dtmrs-website/` è·¯å¾‘
- **ä¸åŒ¹é…** â†’ Vite æ‰¾ä¸åˆ°æª”æ¡ˆ â†’ è¿”å› HTML 404 é é¢
- Response Headers é¡¯ç¤º `content-type: text/html` è€Œä¸æ˜¯ `image/jpeg`
- åœ–ç‰‡ `naturalWidth` å’Œ `naturalHeight` ç‚º 0ï¼ˆç„¡æ³•è§£ç¢¼ï¼‰

### å•é¡Œ 2: éƒ¨åˆ†é é¢è·¯å¾‘éŒ¯èª¤

**`src/pages/Catalog.tsx`** (3 å¼µåœ–ç‰‡):
```typescript
// âŒ éŒ¯èª¤
image: '/assets/images/DIR06227.jpg'

// âœ… æ­£ç¢º
image: '/dtmrs-website/assets/images/DIR06227.jpg'
```

**`src/pages/Gallery.tsx`** (15 å¼µåœ–ç‰‡):
```typescript
// âŒ éŒ¯èª¤
{ id: 1, src: '/assets/images/DFM03708.jpg', ... }

// âœ… æ­£ç¢º
{ id: 1, src: '/dtmrs-website/assets/images/DFM03708.jpg', ... }
```

## âœ… è§£æ±ºæ–¹æ¡ˆ

### ä¿®å¾© 1: æ›´æ–° Vite é…ç½®

**æª”æ¡ˆ**: `vite.config.ts`

```typescript
export default defineConfig({
  plugins: [react()],
  base: '/dtmrs-website/', // âœ… æ­£ç¢ºï¼šGitHub Pages éƒ¨ç½²è·¯å¾‘
})
```

**èªªæ˜**:
- GitHub Pages éƒ¨ç½²åœ¨ `https://yanchen184.github.io/dtmrs-website/`
- `base` å¿…é ˆè¨­å®šç‚º `/dtmrs-website/` æ‰èƒ½æ­£ç¢ºè§£æéœæ…‹è³‡æº

### ä¿®å¾© 2: æ›´æ­£åœ–ç‰‡è·¯å¾‘

**Catalog.tsx** - æ›´æ­£ 3 å€‹ç”¢å“å‹éŒ„åœ–ç‰‡:
```typescript
const catalogs = [
  {
    id: 1,
    image: '/dtmrs-website/assets/images/DIR06227.jpg', // âœ…
  },
  {
    id: 2,
    image: '/dtmrs-website/assets/images/DFM03708.jpg', // âœ…
  },
  {
    id: 3,
    image: '/dtmrs-website/assets/images/DFM03713.jpg', // âœ…
  },
];
```

**Gallery.tsx** - æ›´æ­£ 15 å¼µæ´»å‹•ç…§ç‰‡:
```typescript
const images = [
  { id: 1, src: '/dtmrs-website/assets/images/DFM03708.jpg', ... }, // âœ…
  { id: 2, src: '/dtmrs-website/assets/images/DFM03713.jpg', ... }, // âœ…
  // ... å…¶ä»– 13 å¼µ
];
```

### ä¿®å¾© 3: é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
# åœæ­¢èˆŠçš„é–‹ç™¼ä¼ºæœå™¨
taskkill //F //PID <PID>

# é‡æ–°å•Ÿå‹•ï¼ˆè¼‰å…¥æ–°é…ç½®ï¼‰
npm run dev
```

**çµæœ**: é–‹ç™¼ä¼ºæœå™¨ URL å¾ `http://localhost:5173/` è®Šæˆ `http://localhost:5173/dtmrs-website/`

## ğŸ“Š é©—è­‰çµæœ

### ç¶²è·¯è«‹æ±‚æª¢æŸ¥
ä½¿ç”¨ Chrome DevTools é©—è­‰ï¼š

**ä¿®å¾©å‰**:
```
GET /assets/images/DFM03708.jpg
Status: 200
Content-Type: text/html  âŒ éŒ¯èª¤ï¼æ‡‰è©²æ˜¯ image/jpeg
Content-Length: 646      âŒ å¤ªå°ï¼æ­£å¸¸æ‡‰è©² 4MB+
```

**ä¿®å¾©å¾Œ**:
```
GET /dtmrs-website/assets/images/DFM03708.jpg
Status: 200
Content-Type: image/jpeg âœ… æ­£ç¢ºï¼
Content-Length: 4194304  âœ… æ­£ç¢ºå¤§å°ï¼
```

### åœ–ç‰‡ç‹€æ…‹æª¢æŸ¥

```javascript
// ä¿®å¾©å‰
{
  complete: true,
  naturalWidth: 0,    // âŒ ç„¡æ³•è§£ç¢¼
  naturalHeight: 0,   // âŒ ç„¡æ³•è§£ç¢¼
}

// ä¿®å¾©å¾Œ
{
  complete: true,
  naturalWidth: 1920,  // âœ… æ­£ç¢ºè§£ç¢¼
  naturalHeight: 1080, // âœ… æ­£ç¢ºè§£ç¢¼
}
```

### è¼‰å…¥æˆåŠŸç¢ºèª

âœ… **æ‰€æœ‰è³‡æºè¼‰å…¥æˆåŠŸ**:
- 15 å¼µåœ–ç‰‡ - å…¨éƒ¨ 200 æˆåŠŸ
- 3 å€‹å½±ç‰‡ - å…¨éƒ¨ 200 æˆåŠŸ
- 1 å€‹ Logo - 200 æˆåŠŸ

## ğŸ“ æª”æ¡ˆç‹€æ…‹

### å½±ç‰‡æª”æ¡ˆï¼ˆå·²å£“ç¸®ï¼‰
```
public/assets/videos/
â”œâ”€â”€ 20241208 DTMæ±äº¬è»Šå±•60sec.mp4 (6.9 MB) âœ… å£“ç¸®90%
â”œâ”€â”€ 20250112 DTMRS AutosalonåºHD .mp4 (6.5 MB) âœ… å£“ç¸®91%
â”œâ”€â”€ 20250420 SGT6 DTMRS Asurada.mp4 (6.6 MB) âœ… å£“ç¸®91%
â””â”€â”€ backup-original/ (215 MB) - åŸå§‹å‚™ä»½
```

**å£“ç¸®æˆæœ**:
- åŸå§‹ç¸½å¤§å°: 214 MB
- å£“ç¸®å¾Œç¸½å¤§å°: 20 MB
- å£“ç¸®ç‡: 90.75%
- è¼‰å…¥é€Ÿåº¦æå‡: 10.7å€

### åœ–ç‰‡æª”æ¡ˆ
```
public/assets/images/
â”œâ”€â”€ 15 å¼µåœ–ç‰‡
â””â”€â”€ ç¸½å¤§å°: 67 MB
```

## ğŸ”§ ä¿®å¾©çš„æª”æ¡ˆæ¸…å–®

1. âœ… `vite.config.ts` - Vite base è·¯å¾‘é…ç½®
2. âœ… `src/pages/Catalog.tsx` - 3 å€‹åœ–ç‰‡è·¯å¾‘
3. âœ… `src/pages/Gallery.tsx` - 15 å€‹åœ–ç‰‡è·¯å¾‘
4. âœ… å½±ç‰‡å£“ç¸® - 3 å€‹å½±ç‰‡æª”æ¡ˆ

## ğŸ¯ é—œéµå­¸ç¿’é»

### 1. Vite Base Path é…ç½®

**æœ¬åœ°é–‹ç™¼ vs GitHub Pages**:
```typescript
// å¦‚æœéƒ¨ç½²åˆ°æ ¹ç›®éŒ„ï¼ˆè‡ªå®šç¾©åŸŸåï¼‰
base: '/'

// å¦‚æœéƒ¨ç½²åˆ° GitHub Pages å­è·¯å¾‘
base: '/repo-name/'
```

**å¿…é ˆçµ±ä¸€**:
- Vite é…ç½®çš„ `base`
- ç¨‹å¼ç¢¼ä¸­çš„è³‡æºè·¯å¾‘
- å…©è€…å¿…é ˆä¸€è‡´ï¼

### 2. è¨ºæ–·è³‡æºè¼‰å…¥å•é¡Œçš„æ–¹æ³•

1. **æª¢æŸ¥ Network æ¨™ç±¤**
   - ç‹€æ…‹ç¢¼ï¼ˆ200, 404ï¼‰
   - Content-Typeï¼ˆæ˜¯å¦æ­£ç¢ºï¼‰
   - Content-Lengthï¼ˆæª”æ¡ˆå¤§å°ï¼‰

2. **æª¢æŸ¥ Response Headers**
   ```javascript
   // éŒ¯èª¤çš„åœ–ç‰‡å›æ‡‰
   content-type: text/html  // âŒ HTML 404 é é¢

   // æ­£ç¢ºçš„åœ–ç‰‡å›æ‡‰
   content-type: image/jpeg // âœ… æ­£ç¢º
   ```

3. **æª¢æŸ¥åœ–ç‰‡å…ƒç´ å±¬æ€§**
   ```javascript
   const img = document.querySelector('img');
   console.log(img.naturalWidth);  // æ‡‰è©² > 0
   console.log(img.naturalHeight); // æ‡‰è©² > 0
   ```

### 3. ç€è¦½å™¨å¿«å–å•é¡Œ

**è§£æ±ºæ–¹æ³•**:
- å¼·åˆ¶é‡æ–°æ•´ç†: `Ctrl + F5`
- æ¸…é™¤å¿«å–: `Ctrl + Shift + Delete`
- ä½¿ç”¨ç„¡ç—•æ¨¡å¼: `Ctrl + Shift + N`
- é–‹ç™¼è€…å·¥å…· â†’ Network â†’ Disable cache

## ğŸ“š å»¶ä¼¸å„ªåŒ–å»ºè­°

### 1. åœ–ç‰‡å£“ç¸®ï¼ˆæ¨è–¦ï¼‰

**ç›®å‰ç‹€æ…‹**: 67 MB (15 å¼µåœ–ç‰‡)
**å»ºè­°å„ªåŒ–**: å£“ç¸®åˆ° ~15 MB

```bash
# ä½¿ç”¨ ImageMagick æ‰¹æ¬¡å£“ç¸®
magick mogrify -quality 85 -resize 1920x1920\> *.jpg
```

**é æœŸæ•ˆæœ**:
- å£“ç¸®ç‡: ~78%
- è¼‰å…¥é€Ÿåº¦æå‡: 4.5å€

### 2. å»¶é²è¼‰å…¥ï¼ˆLazy Loadingï¼‰

```tsx
<img
  src="/dtmrs-website/assets/images/photo.jpg"
  loading="lazy"  // â† åŠ å…¥å»¶é²è¼‰å…¥
  alt="..."
/>
```

### 3. éŸ¿æ‡‰å¼åœ–ç‰‡

```tsx
<picture>
  <source
    media="(min-width: 1920px)"
    srcSet="/images/photo-1920.jpg"
  />
  <source
    media="(min-width: 1280px)"
    srcSet="/images/photo-1280.jpg"
  />
  <img
    src="/images/photo-800.jpg"
    alt="..."
  />
</picture>
```

### 4. çµ±ä¸€è·¯å¾‘ç®¡ç†ï¼ˆæœ€ä½³å¯¦è¸ï¼‰

å»ºç«‹è·¯å¾‘é…ç½®æª”æ¡ˆï¼š

```typescript
// src/config/paths.ts
export const BASE_PATH = '/dtmrs-website';

export const ASSETS = {
  images: (filename: string) =>
    `${BASE_PATH}/assets/images/${filename}`,
  videos: (filename: string) =>
    `${BASE_PATH}/assets/videos/${filename}`,
  logo: (filename: string) =>
    `${BASE_PATH}/assets/logo/${filename}`,
};

// ä½¿ç”¨æ–¹å¼
import { ASSETS } from '@/config/paths';

<img src={ASSETS.images('DFM03708.jpg')} />
<video src={ASSETS.videos('video.mp4')} />
```

**å¥½è™•**:
- çµ±ä¸€ç®¡ç†æ‰€æœ‰è·¯å¾‘
- åˆ‡æ›éƒ¨ç½²ç’°å¢ƒåªéœ€ä¿®æ”¹ä¸€è™•
- é¿å…è·¯å¾‘éŒ¯èª¤
- é¡å‹å®‰å…¨ï¼ˆTypeScriptï¼‰

### 5. Git LFS ç®¡ç†å¤§å‹æª”æ¡ˆ

```bash
# å®‰è£ Git LFS
git lfs install

# è¿½è¹¤å¤§å‹æª”æ¡ˆ
git lfs track "*.mp4"
git lfs track "*.jpg"
git lfs track "*.png"

# æäº¤ .gitattributes
git add .gitattributes
git commit -m "chore: setup Git LFS for media files"
```

## âœ… æœ€çµ‚æª¢æŸ¥æ¸…å–®

ä¿®å¾©å®Œæˆå¾Œï¼Œè«‹ç¢ºèªï¼š

- [ ] Vite é…ç½® `base` æ­£ç¢ºè¨­å®šç‚º `/dtmrs-website/`
- [ ] æ‰€æœ‰åœ–ç‰‡è·¯å¾‘åŒ…å« `/dtmrs-website/` å‰ç¶´
- [ ] æ‰€æœ‰å½±ç‰‡è·¯å¾‘åŒ…å« `/dtmrs-website/` å‰ç¶´
- [ ] é–‹ç™¼ä¼ºæœå™¨ URL ç‚º `http://localhost:5173/dtmrs-website/`
- [ ] é¦–é åœ–ç‰‡æ­£å¸¸é¡¯ç¤º
- [ ] Catalog é é¢åœ–ç‰‡æ­£å¸¸é¡¯ç¤º
- [ ] Gallery é é¢åœ–ç‰‡æ­£å¸¸é¡¯ç¤º
- [ ] Events é é¢å½±ç‰‡å¯ä»¥æ’­æ”¾
- [ ] Chrome DevTools Network é¡¯ç¤ºæ‰€æœ‰è³‡æº 200 æˆåŠŸ
- [ ] Console ç„¡éŒ¯èª¤æˆ–è­¦å‘Š
- [ ] æ¸…é™¤ç€è¦½å™¨å¿«å–å¾Œä»æ­£å¸¸

## ğŸ‰ ç¸½çµ

**å•é¡Œæ ¹æº**: Vite `base` é…ç½®èˆ‡ç¨‹å¼ç¢¼è·¯å¾‘ä¸ä¸€è‡´

**è§£æ±ºæ–¹æ¡ˆ**:
1. æ›´æ–° `vite.config.ts` çš„ `base` ç‚º `/dtmrs-website/`
2. ä¿®æ­£ Catalog.tsx å’Œ Gallery.tsx çš„åœ–ç‰‡è·¯å¾‘
3. é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

**é¡å¤–æ”¶ç©«**:
- å½±ç‰‡å£“ç¸® 90%ï¼ˆ214 MB â†’ 20 MBï¼‰
- è¼‰å…¥é€Ÿåº¦æå‡ 10.7 å€

**ä¿®å¾©æ™‚é–“**: 2025-12-17
**ä¿®å¾©æª”æ¡ˆ**: 3 å€‹ TypeScript æª”æ¡ˆ
**å½±éŸ¿ç¯„åœ**: 18 å€‹åœ–ç‰‡è·¯å¾‘ + Vite é…ç½®

---

**ğŸš€ ç¾åœ¨ç¶²ç«™çš„æ‰€æœ‰åœ–ç‰‡å’Œå½±ç‰‡éƒ½èƒ½æ­£å¸¸é¡¯ç¤ºäº†ï¼**
